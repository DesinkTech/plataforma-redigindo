<div class="card-header bg-white align-self-center">
    <h3 class="card-title">Alterar Senha</h3>
</div>

<div class="align-self-center flex-fill" style="width: 100%; padding: 3px 5px">
    <%= form_with(model: @user, url: edit_password_reset_path(params[:token]),local: true, id: :reset_password, html: {
    class: "d-flex flex-column justify-content-around align-items-center",
    style: "height: 100%" }) do |f| %>

    <div>
        <%= hidden_field_tag :email, @user.email %>
    </div>

    <div class="field-div d-flex flex-column">
        <%= f.label :password, 'Senha', class: "input-label text-dark" %>
        <div class="input-div border-bottom border-dark d-flex">
            <%= f.password_field :password, placeholder: "Insira sua nova senha",
            class: "border-0 flex-fill align-self-stretch" %>
        </div>
        <span class="text-danger"><%= @user.errors.messages[:password].first if @user.errors.any? %></span>
    </div>

    <div class="field-div d-flex flex-column">
        <%= f.label :password_confirmation, 'Confirmar Senha', class: "input-label text-dark" %>
        <div class="input-div border-bottom border-dark d-flex">
            <%= f.password_field :password_confirmation, placeholder: "Confirme sua nova senha",
            class: "border-0 flex-fill align-self-stretch" %>
        </div>
        <span class="text-danger"><%= @user.errors.messages[:password_confirmation].first if @user.errors.any? %></span>
    </div>

    <div class="submit-div">
        <%= f.submit 'Alterar Senha',
        class: "btn btn-outline-primary btn-lg btn-inicial rounded-pill font-weight-bolder text-uppercase",
        style: "padding: 10px 50px; border-width: 2px;" %>
    </div>
    <% end %>
</div>

<% if @user.errors.any? %>
<script>

    $("#reset_password .input-div").each(function () {
        $(this).removeClass("border-dark").addClass("border-danger");
    })

</script>
<% end %>